/*! AirPorts 11-10-2014 */
function Swipe(e,t){"use strict";function i(){m=_.children,v=m.length,2>m.length&&(t.continuous=!1),f.transitions&&t.continuous&&3>m.length&&(_.appendChild(m[0].cloneNode(!0)),_.appendChild(_.children[1].cloneNode(!0)),m=_.children),g=Array(m.length),b=e.getBoundingClientRect().width||e.offsetWidth,_.style.width=m.length*b+"px";for(var i=m.length;i--;){var n=m[i];n.style.width=b+"px",n.setAttribute("data-index",i),f.transitions&&(n.style.left=i*-b+"px",r(i,y>i?-b:i>y?b:0,0))}t.continuous&&f.transitions&&(r(s(y-1),-b,0),r(s(y+1),b,0)),f.transitions||(_.style.left=y*-b+"px"),e.style.visibility="visible"}function n(){t.continuous?a(y-1):y&&a(y-1)}function o(){t.continuous?a(y+1):m.length-1>y&&a(y+1)}function s(e){return(m.length+e%m.length)%m.length}function a(e,i){if(y!=e){if(f.transitions){var n=Math.abs(y-e)/(y-e);if(t.continuous){var o=n;n=-g[s(e)]/b,n!==o&&(e=-n*m.length+e)}for(var a=Math.abs(y-e)-1;a--;)r(s((e>y?e:y)-a-1),b*n,0);e=s(e),r(y,b*n,i||x),r(e,0,i||x),t.continuous&&r(s(e-n),-(b*n),0)}else e=s(e),c(y*-b,e*-b,i||x);y=e,p(t.callback&&t.callback(y,m[y]))}}function r(e,t,i){l(e,t,i),g[e]=t}function l(e,t,i){var n=m[e],o=n&&n.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=i+"ms",o.webkitTransform="translate("+t+"px,0)"+"translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function c(e,i,n){if(!n)return _.style.left=i+"px",void 0;var o=+new Date,s=setInterval(function(){var a=+new Date-o;return a>n?(_.style.left=i+"px",T&&h(),t.transitionEnd&&t.transitionEnd.call(event,y,m[y]),clearInterval(s),void 0):(_.style.left=(i-e)*(Math.floor(100*(a/n))/100)+e+"px",void 0)},4)}function h(){w=setTimeout(o,T)}function u(){T=0,clearTimeout(w)}var d=function(){},p=function(e){setTimeout(e||d,0)},f={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in t)if(void 0!==e.style[t[i]])return!0;return!1}(document.createElement("swipe"))};if(e){var m,g,b,v,_=e.children[0];t=t||{};var y=parseInt(t.startSlide,10)||0,x=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var w,C,T=t.auto||0,k={},S={},D={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":p(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":p(this.transitionEnd(e));break;case"resize":p(i)}t.stopPropagation&&e.stopPropagation()},start:function(e){var t=e.touches[0];k={x:t.pageX,y:t.pageY,time:+new Date},C=void 0,S={},_.addEventListener("touchmove",this,!1),_.addEventListener("touchend",this,!1)},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){t.disableScroll&&e.preventDefault();var i=e.touches[0];S={x:i.pageX-k.x,y:i.pageY-k.y},C===void 0&&(C=!!(C||Math.abs(S.x)<Math.abs(S.y))),C||(e.preventDefault(),u(),t.continuous?(l(s(y-1),S.x+g[s(y-1)],0),l(y,S.x+g[y],0),l(s(y+1),S.x+g[s(y+1)],0)):(S.x=S.x/(!y&&S.x>0||y==m.length-1&&0>S.x?Math.abs(S.x)/b+1:1),l(y-1,S.x+g[y-1],0),l(y,S.x+g[y],0),l(y+1,S.x+g[y+1],0)))}},end:function(){var e=+new Date-k.time,i=250>Number(e)&&Math.abs(S.x)>20||Math.abs(S.x)>b/2,n=!y&&S.x>0||y==m.length-1&&0>S.x;t.continuous&&(n=!1);var o=0>S.x;C||(i&&!n?(o?(t.continuous?(r(s(y-1),-b,0),r(s(y+2),b,0)):r(y-1,-b,0),r(y,g[y]-b,x),r(s(y+1),g[s(y+1)]-b,x),y=s(y+1)):(t.continuous?(r(s(y+1),b,0),r(s(y-2),-b,0)):r(y+1,b,0),r(y,g[y]+b,x),r(s(y-1),g[s(y-1)]+b,x),y=s(y-1)),t.callback&&t.callback(y,m[y])):t.continuous?(r(s(y-1),-b,x),r(y,0,x),r(s(y+1),b,x)):(r(y-1,-b,x),r(y,0,x),r(y+1,b,x))),_.removeEventListener("touchmove",D,!1),_.removeEventListener("touchend",D,!1)},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==y&&(T&&h(),t.transitionEnd&&t.transitionEnd.call(e,y,m[y]))}};return i(),T&&h(),f.addEventListener?(f.touch&&_.addEventListener("touchstart",D,!1),f.transitions&&(_.addEventListener("webkitTransitionEnd",D,!1),_.addEventListener("msTransitionEnd",D,!1),_.addEventListener("oTransitionEnd",D,!1),_.addEventListener("otransitionend",D,!1),_.addEventListener("transitionend",D,!1)),window.addEventListener("resize",D,!1)):window.onresize=function(){i()},{setup:function(){i()},slide:function(e,t){u(),a(e,t)},prev:function(){u(),n()},next:function(){u(),o()},stop:function(){u()},getPos:function(){return y},getNumSlides:function(){return v},kill:function(){u(),_.style.width="",_.style.left="";for(var e=m.length;e--;){var t=m[e];t.style.width="",t.style.left="",f.transitions&&l(e,0,0)}f.addEventListener?(_.removeEventListener("touchstart",D,!1),_.removeEventListener("webkitTransitionEnd",D,!1),_.removeEventListener("msTransitionEnd",D,!1),_.removeEventListener("oTransitionEnd",D,!1),_.removeEventListener("otransitionend",D,!1),_.removeEventListener("transitionend",D,!1),window.removeEventListener("resize",D,!1)):window.onresize=null}}}}(window.jQuery||window.Zepto)&&function(e){e.fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}}(window.jQuery||window.Zepto);